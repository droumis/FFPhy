

% run ms_diodayprocess
for d=2:8
    daydir=sprintf('dave0%d',d);
    ms_diodayprocess(daydir,'/data12/kkay/Dav/','dav',d)
end

% run Shantanu's parsing script (open it to fix the well #s)

open sj_findwellsfromdio1_Egypt


%% Egypt

% linear track -- to rework?
[wellsdio, rewardinfo] = dioparser_lintrack('/data12/mari/Egy','egy',1,[2 4 6],0);
[wellsdio, rewardinfo] = dioparser_lintrack('/data12/mari/Egy','egy',2,[2 4],0);

% W-track
[wellsdio, rewardinfo] = dioparser_wtrack('/data12/mari/Egy','egy',3,[2 4 6],1,'blacklist',egyptblacklist);
[wellsdio, rewardinfo] = dioparser_wtrack('/data12/mari/Egy','egy',4,[2 4 6],1,'blacklist',egyptblacklist);
[wellsdio, rewardinfo] = dioparser_wtrack('/data12/mari/Egy','egy',5,[2 4 6],1,'blacklist',egyptblacklist);
[wellsdio, rewardinfo] = dioparser_wtrack('/data12/mari/Egy','egy',6,[2 4 7],1,'blacklist',egyptblacklist);
[wellsdio, rewardinfo] = dioparser_wtrack('/data12/mari/Egy','egy',7,[2 4 6],1,'blacklist',egyptblacklist);
[wellsdio, rewardinfo] = dioparser_wtrack('/data12/mari/Egy','egy',8,[2 4 6],1,'blacklist',egyptblacklist);
[wellsdio, rewardinfo] = dioparser_wtrack('/data12/mari/Egy','egy',9,[2 4 6],1,'blacklist',egyptblacklist);
[wellsdio, rewardinfo] = dioparser_wtrack('/data12/mari/Egy','egy',10,[2 4 6],1,'blacklist',egyptblacklist);
[wellsdio, rewardinfo] = dioparser_wtrack('/data12/mari/Egy','egy',11,[2 4 6],1,'blacklist',egyptblacklist);
[wellsdio, rewardinfo] = dioparser_wtrack('/data12/mari/Egy','egy',12,[2 4 6],1,'blacklist',egyptblacklist);

%% Chapati
[wellsdio, rewardinfo] = dioparser_wtrack('/datatmp/kkay/Cha','cha',1,[3 4 7 8],22:24);
[wellsdio, rewardinfo] = dioparser_wtrack('/datatmp/kkay/Cha','cha',2,[3 4 7 8],22:24);
[wellsdio, rewardinfo] = dioparser_wtrack('/datatmp/kkay/Cha','cha',3,[2 4],22:24);
[wellsdio, rewardinfo] = dioparser_wtrack('/datatmp/kkay/Cha','cha',4,[2 4],22:24);
[wellsdio, rewardinfo] = dioparser_wtrack('/datatmp/kkay/Cha','cha',5,[2 4],22:24);
[wellsdio, rewardinfo] = dioparser_wtrack('/datatmp/kkay/Cha','cha',6,[2 4 6],22:24);
[wellsdio, rewardinfo] = dioparser_wtrack('/datatmp/kkay/Cha','cha',7,[2 5],22:24);
[wellsdio, rewardinfo] = dioparser_wtrack('/datatmp/kkay/Cha','cha',8,[2 4 6],22:24);
[wellsdio, rewardinfo] = dioparser_wtrack('/datatmp/kkay/Cha','cha',9,[2 4 6],22:24);

%% Dave
[wellsdio, rewardinfo] = sj_findwellsfromdio1_Egypt_lin('/data12/kkay/Dav','dav',1,[2 4 6],22:24);
[wellsdio, rewardinfo] = sj_findwellsfromdio1_Egypt('/data12/kkay/Dav','dav',2,[2 4 6],22:24);
[wellsdio, rewardinfo] = sj_findwellsfromdio1_Egypt('/data12/kkay/Dav','dav',3,[2 4 6],22:24);
[wellsdio, rewardinfo] = sj_findwellsfromdio1_Egypt('/data12/kkay/Dav','dav',4,[2 4 6],22:24);
[wellsdio, rewardinfo] = sj_findwellsfromdio1_Egypt('/data12/kkay/Dav','dav',5,[3 5],22:24);
[wellsdio, rewardinfo] = sj_findwellsfromdio1_Egypt('/data12/kkay/Dav','dav',6,[2 4 6],22:24);
[wellsdio, rewardinfo] = sj_findwellsfromdio1_Egypt('/data12/kkay/Dav','dav',7,[2 3 5 7 9],22:24);
[wellsdio, rewardinfo] = sj_findwellsfromdio1_Egypt('/data12/kkay/Dav','dav',8,[2 3 5],22:24);




% run generate_rewarderror_times_Egypt to distinguish rewarded vs. error
open generate_rewarderror_times_Egypt

% verify with position plot
open plot_rewardtimes_position



%% Egypt blacklist

%{d}{e}{t} contains list of spurious / questionable timestamps
egyptblacklist{3}{2} = [96249902 96250690 96512682 96512702 97648647 97823411 97823486]';
egyptblacklist{3}{4} = [115234136 115234273 115561813 117047300 117964800 118445404 118729406 ...
                           118729416 118969686 118969693 121110548 121833901 121831901 122049881 ...
                           122180950 122333869 122333934 122574165 123011178]';                       
egyptblacklist{3}{6} = [140203355 140203369 140596566 140858709 141710888 141710677 142409782 ...
                           142759263 143043263 143043263 143043246 143458304 144004438 144463189 ...
                           144725333 145419339 145424384 145773910 145773912 146909866 147565226 ...
                           147696299 147849216 148220590 148460886 148460903 148919637 148919638]';
                       
egyptblacklist{4}{2} = [53084161 53084163 54329344 54329581 54831854 54831904 55028403 56208076 ...
                        56273579 56997853 57802752 58086741 58568794 58568116 58984085 58982801 ...
                        59113472 59353771 59506688 59899914 60028200 60030976 60271277 61363541 ]';
egyptblacklist{4}{4} = [80835262 81989409 81986646 82335167 82903041 82903050 83645781 87097851 87103056]';                       
egyptblacklist{4}{6} = [104180395 104879445 105228970 105928021 107391679 107391670 109488883 110364708 ...
                        110362708 110886318 110886913 111236438 111236437 112066585 112787458 112787456 113208588 113206588]';
                      
egyptblacklist{5}{2} = [65732609 65732608 65741408 65994760 66213205 66213207 66562732 66759340 66759354 ...
                        67458389 69424470 69424551 69555541 70473069 72067754 72067763 72592043 72701269 ...
                        73575083 73924608 73924609 74339990 75279019 75388245 75563231 ]';
egyptblacklist{5}{4} = [95638968 96862307 97648643 98262599 99702101 100139009 100226390]';
egyptblacklist{5}{6} = [116282709 116435627 116435634 116874179 116981778 117070378 117069167 117309440 ...
                        117658965 117790037 118205099 118489089 118729389 118794922 118794923 119188139 ...
                        119188143 119428437 119428441 119579926 119712437 119712816 119734272 120367787 ...
                        120477015 120586240 120586241 121023147 121132373 121634816 121811614 121817351 ...
                        121940650 121940655 122290178 122355712 122510026 122617856 122770775 122880000 ...
                        124627701 124627736]';                        
   
egyptblacklist{6}{2} = [32047104 32047105 32221939 32396630 32396629 32746157 32833671 32834497 33117525 ...
                        33401515 36722633 36984643 36984150 37246357 38209232 39125119 39130108]';
egyptblacklist{6}{4} = [57693526 58043055 58632881 58632875 59329231 59331997 59967182 60511575 61185249 ...
                        61188802 61363549 61669499 62608726 62980096 63309100 63311719 64968302 65011714 ...
                        65404928 65645271 65841841 65841840]';                       
egyptblacklist{6}{7} = [85699757 85700733 88429943 88429914 88561177 89216867 89339843 91906788 91905328]';
                       
egyptblacklist{7}{2} = [50266148 50812252 52468038 52472498 52778326 52778325 53258929 53258943 54045371 ...
                        54045373 54919168 55838800 56688640 57103710 57103708 57606145 57671687 58501803 ...
                        58567339 58851332 58851336]';                       
egyptblacklist{7}{4} = [75628547 75978069 76109141 76327594 76327595 76633429 76895573 77332480 78031530 ...
                        78038157 78075222 78206293 80106846 80107122 80327925 80849616 81461339 81461540 ...
                        81592268 81592819 82335319 82859368 83645783 83645794 ]';
egyptblacklist{7}{6} = [100233300 100532224 102695479 102696132 103044437 103044493 103481344 103910441 104719242 ...
                        105009292 105011107 105644032 107064016 107064045 107741201]';                     
                       
egyptblacklist{8}{2} = [60861099 61145113 61416652 61416858 61516463 61887829 61888961 61975210 62040746 ...
                        62368427 62717954 62914560 63984983 63984982 64137898 64356352 64574863 64574891 ...
                        64684039 65164632 65164632 65164631 65361370 65798144 66082135 66082193 66082135 ...
                        66191360 66235051 66606421 67065175 67065198 67502225 68201140 68201133 68748389 ...
                        68968603 68966920 69424482 69424654]';                          
egyptblacklist{8}{4} = [87119374 87121445 88539147 88539214]';                       
egyptblacklist{8}{6} = [111283891 113640741 113812123 113814196 113988962 113988955 114253997 114338482 114338486 ...
                        114862764 115210759 115212665 115539968 116632235 116632416 116741461 116959915 116959918 ...
                        117309441 117615275 117615275 117615274 118969691 118969734 119712427 119712433 ]';                        
                       
egyptblacklist{9}{2} = [51630933 51948285 52122965 52385115 52385118 52822016 53564759 53910984 53910984 53914286 ...
                        54220117 54443547 54439043 54547797 54875477 54877343 54897322 55225002 55232750 55312384 ...
                        55488907 55487284 55596375 55815028 55815045 55945899 55953383 56011435 56188341 56360960 ...
                        56754205 56819712 56972634 56972631 57737243 57737254 57985444 58305194 58440164 58523648 ...
                        58654723 58982561 59115472 59268560 59267060 59790682 59965440]';                          
egyptblacklist{9}{4} = [76720811 76720812 76895573 76895575 77332705 77332804 77485398 77485402 77682005 77682006 ...
                        77834923 77965995 77965994 78118916 79451591 79451564 80106844 80238244 81439684 81441884 ...
                        81571029 81898808 81985846 81987749 82508272 82511247 83296279 83296540 83645794 83645790 ...
                        83779217 84323719]';                       
egyptblacklist{9}{6} = [101122050 101296724 101300285 101449760 101449752 101799314 101799302 101995973 101996017 ...
                        102345505 102345441 102847835 1031973508 103197515 103743679 103743561]';                         
                       
egyptblacklist{10}{2} = [60895406 61145088 61145114 61210625 61669428 61669436 61778663 61783059 62324736 62476773 ...
                         62477711 63067477 63176705 63176742 63286570 63289326 63417003 63526230 63744683 63744703 ...
                         63984981 63984989 64399234 64705877 65120938 65470464 65753245 65754456 65754453 65754456 ...
                         65760249 65758450 65841844 65994764 65994761 66126201 66129029 66344293 66409818 66781184 ...
                         67873668 68945884 68944084 69424470 69589025]';                          
egyptblacklist{10}{4} = [85701085 86492439 87142383 87141536 88474248 89131353 91727854 91731934 92162131 93567798 ...
                         94481328 94482209]';                       
egyptblacklist{10}{6} = [110287577 110471850 112416151 112416089 112741679 112744075 113289899 113290018 113486509 ...
                         114360328 114535083 114535087 115060008 115060590 115502976 115500269 115933185 116174599 ...
                         116175964 116282709 116381792 116610390 116916239 116916334 117418968 117418728 118030385 ...
                         118030342 118139562 119188138]';
                     
egyptblacklist{11}{2} = [31828650 32112640 32636940 32636928 32986453 32986454 33335978 33335984 38382547 38384815]';                          
egyptblacklist{11}{4} = [56754176 57125546 57125547 57453226 57453235 57671680 57846443 58479957 52680010 59768832 ...
                         59768834 60075651 60074735 60183893 60533419 60533446 60533419 60775683 61014016 61319850 ...
                         61494613 61494614 61516461 61909674 63175668 63176704 63307778 64247125 64312661 64312662 ...
                         64596794 94597006]';                       
egyptblacklist{11}{6} = [80675138 81592362 81592337 81985641 82160322 82160333]';                     
                    
egyptblacklist{12}{2} = [46617980 48584021 49219995 49567173 49741828 49857309 49855709 50047711 50244338 50244395 ...
                         50724867 50724868 50987343 50987057 51183626 51183633 51423915 51838979 52035329 52036551 ...
                         52145475 52146727 52822017 52822016 53477376 53477377 53482296 53477377 53564757 53826901 ...
                         54089045 54285653 54439731 54439418 54876094 54878079 55290702 55294160 ]';                          
egyptblacklist{12}{4} = [70391447 70388205 71169498 71172100 71344736 71346860 71461371 71456371 71654356 71652785 ...
                         71761922 71761920 71892995 72657613 72657591 73356630 73356652 73531396 73531395 73880917 ...
                         74055680 74055685 74317824 74448897 74754731 74754759 75038739 75147956 75453781 75737781 ...
                         75737909 95847004 75847000 76021760 76152832 76698968 76698969 77053571 77201414 77201409 ...
                         77354452 77355303 77660162 77660164 78009687 78118965]';                       
egyptblacklist{12}{6} = [93782892 93785939 94678204 94681016 94831269 95033690 95377567 95813635 95813638 95988395 ...
                         96163310 96425314 96425354 96512711 97124603 97124381 97299151 97299293 98347750 98347718 ...
                         98609850 98740906 100292277 100293514 100529874 100532227]';                       
                       
                       
                       
                       
                       
                       
                       
                       
                       
                       
                       
                       
                       
                       