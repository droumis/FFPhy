#!/bin/sh
gctags \
--lang=none \
--regex='/[ \t]*function.*=[ \t]*\([^ \t(]*\)/\1/' \
--regex='/[ \t]*function[ \t]+\([^[ \t=(]*\)[ \t]*\($\|(\)/\1/' \
--regex='/%%%key \(.*\)/\1/' \
--regex='/[ \t]*global[ \t]+\([^ \t]+\)/\1/' \
--regex='/[ \t]*global[ \t]+\([^ \t]+[ \t]+\)\{1\}\([^ \t]+\)/\2/' \
--regex='/[ \t]*global[ \t]+\([^ \t]+[ \t]+\)\{2\}\([^ \t]+\)/\2/' \
--regex='/[ \t]*global[ \t]+\([^ \t]+[ \t]+\)\{3\}\([^ \t]+\)/\2/' \
--regex='/[ \t]*global[ \t]+\([^ \t]+[ \t]+\)\{4\}\([^ \t]+\)/\2/' \
--regex='/[ \t]*global[ \t]+\([^ \t]+[ \t]+\)\{5\}\([^ \t]+\)/\2/' \
--regex='/[ \t]*global[ \t]+\([^ \t]+[ \t]+\)\{6\}\([^ \t]+\)/\2/' \
--regex='/[ \t]*global[ \t]+\([^ \t]+[ \t]+\)\{7\}\([^ \t]+\)/\2/' \
--regex='/[ \t]*global[ \t]+\([^ \t]+[ \t]+\)\{8\}\([^ \t]+\)/\2/' \
--regex='/[ \t]*global[ \t]+\([^ \t]+[ \t]+\)\{9\}\([^ \t]+\)/\2/' \
`find $@ -follow -name "*.m"`
